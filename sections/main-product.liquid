{%- assign section_name = 'product' -%}
{%- assign section_id = section_name | append: '--' | append: section.id -%}

{% assign featued_image = product.featured_image | default: false %}
{% assign gallery = false %}
{% assign gallery_id = 'product-gallery--' | append: section.id %}
{% assign gallery_style = 'product-gallery' %}

{% if product.images.size > 1 %}
  {% assign gallery = true %}
{% endif %}

{% render 'json-ld', article: product, type: 'product' %}

<div class="{{ section_name }}" itemscope itemtype="http://schema.org/Product">
  {%- form 'product', product, class: 'form', novalidate: 'novalidate', data-type: 'add-to-cart-form' -%}

    {% render 'bs-container', state: 'open' %}
      <div class="row row--inner">

        <div class="col-12 col-lg-6">
          <div class="{{ section_name }}__details">
            <div class="{{ section_name }}__title">
              <h1>{{ product.title }}</h1>
              <strong>{{ product.type }}</strong>
            </div>
            {% render 'price', product: product %}
          </div>
          {% render 'product-gallery', product: product %}
        </div>

        <div class="col-12 col-lg-6">
          {% render 'product-actions', classes: '', product: product %}
          {% render 'product-info', product: product %}
        </div>

      </div>
    {% render 'bs-container', state: 'closed' %}

  {%- endform -%}
</div>

{% stylesheet %}
{% endstylesheet %}

{% javascript %}
{% endjavascript %}

{% schema %}
{
  "name": "Product",
  "tag": "section",
  "class": "section section--product",
  "blocks": [
    {
      "type": "@app"
    },
    {
     "name": "Recommended Products",
     "type": "recommended-products",
     "limit": 1,
     "settings": [
        {
          "label": "Heading",
          "type": "richtext",
          "id": "heading"
        },
        {
          "label": "Heading Highlight",
          "type": "select",
          "options": [
            { "value": "standard", "label": "Standard" },
            { "value": "stroke", "label": "Stroke" },
            { "value": "circle", "label": "Circle" }
          ],
          "default": "standard",
          "id": "heading_highlight"
        }
      ]
    }
  ],
  "presets": [
    {
      "name": "Product"
    }
  ]
}
{% endschema %}
