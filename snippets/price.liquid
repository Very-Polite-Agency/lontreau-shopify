{%- comment -%}

    Accepts:
    - classes: {String} Any combination of words
    - product: {Object} Product Liquid object,
    - style: {String} Display option for a switch case
    - show_symbol: {Boolean} Conditionally show the currency symbol

    Usage:
    {%- render 'price', classes: '',  product: product -%}

{%- endcomment -%}

{%- if product and product != blank -%}

  {%- assign available = product.available -%}
  {%- assign classes = classes | default: '' -%}
  {%- assign price = product.price -%}
  {%- assign price_compare = product.compare_at_price -%}
  {%- assign style = style | default: '' -%}
  {%- assign show_symbol = show_symbol | default: false -%}
  {%- assign symbol = shop.currency.symbol | default: '$' -%}
  {% assign current_variant = product.selected_or_first_available_variant %}

  <div class="{% if classes %}{{ classes }} {% endif %}price {% if show_symbol %} with-currency-symbol{% endif %}">
    <span class="price__value">
      <span class="price__currency-symbol"></span>
{% if product.price_varies and template == 'collection' %}
  {{ product.price_min | money }} to {{ product.price_max | money }}
{% endif %}
  
{% if current_variant.compare_at_price > current_variant.price %}
								<p class="product-compare-at-price">
									{{ current_variant.compare_at_price | money }}
								</p>
							
      
{% else %}
     {{- symbol -}} {{- price | money_without_currency -}}
    </span>
{% endif %}
    {%- if price_compare -%}
      <span class="price__value sale-price">
        <span class="price__currency-symbol">{{- symbol -}}</span>
        {{- price_compare | money_without_currency -}}
      </span>
    {%- endif -%}
  </div>

{%- endif -%}

	<select name="id" id="ProductSelect-{{ section.id }}" class="product-single__variants">
							{% for variant in product.variants %}
								{% if variant.available %}
									<option {% if variant == product.selected_or_first_available_variant %} selected="selected" {% endif %} data-sku="{{ variant.sku }}" value="{{ variant.id }}">{{ variant.title }} - {{ variant.price | money_with_currency }}</option>
									{% else %}
									<option disabled="disabled">
									{{ variant.title }} - {{ 'products.product.sold_out' | t }}
									</option>
								{% endif %}
							{% endfor %}
						</select>
